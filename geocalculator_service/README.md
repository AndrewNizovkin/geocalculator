[< Назад](../README.md)

# Geocalculator_service

## Запуск сервера

По умолчанию сервер использует порт: 8181.

Перед запуском следует указать абсолютный путь к рабочей директории в файле `Dockerfile`.

Запуск из директории проекта, содержащей файл `docker-compose.yaml` командой:

```bash
docker-compose up -d
```

## API

### `/direct` 

POST-запрос. Предоставляет решение прямой геодезической задачи. 

> Определяет пространственные координаты цели по результатам линейно угловых измерений, выполненных с базиса с известными координатами наблюдатеной станции и ориентира. 

Тело запроса `DirectTaskRequest` включает:
    
|свойство|тип|Описание|
|-|-|-|
|landmarkX|long|Координата X ориентира, мм.| 
|landmarkY|long|Координата Y ориентира, мм.| 
|landmarkDirection|long|Направление на ориентир, сек|
|baseX|long|Координата X базы|
|baseY|long|Координата Y базы|
|baseZ|long|Координата Y базы|  
|baseHeight|long|Высота инструмента над точкой, мм.|
|targetDirection|long|Направление на цель, сек.|
|targetInclinedDistance|long|Наклонное расстояние между базой и целью, мм.|
|targetTiltAngle|long|Угол наклона измеренной линии, сек.|
|targetHeight|long|Высота цели над определяемой точкой, мм.|

Тело ответа `DirectTaskResponse` включает:

|свойство|тип|Описание|
|-|-|-|
|targetX|long|Координата X определяемой точки, мм.|
|targetY|long|Координата Y определяемой точки, мм.|
|targetZ|long|Координата Z определяемой точки, мм.|

### `/direct/full`

POST-запрос. Предоставляет решение прямой геодезической задачи.

> Определяет пространственные координаты цели по результатам линейно угловых измерений, выполненных с базиса с известными координатами наблюдатеной станции и ориентира. 

Тело запроса включает в себя список (массив) объектов `DirectTaskRequest`, содержащих поля:

|свойство|тип|Описание|
|-|-|-|
|landmarkX|long|Координата X ориентира, мм.| 
|landmarkY|long|Координата Y ориентира, мм.| 
|landmarkDirection|long|Направление на ориентир, сек|
|baseX|long|Координата X базы|
|baseY|long|Координата Y базы|
|baseZ|long|Координата Y базы|  
|baseHeight|long|Высота инструмента над точкой, мм.|
|targetDirection|long|Направление на цель, сек.|
|targetInclinedDistance|long|Наклонное расстояние между базой и целью, мм.|
|targetTiltAngle|long|Угол наклона измеренной линии, сек.|
|targetHeight|long|Высота цели над определяемой точкой, мм.|

Тело ответа включает в себя список (массив) объектов `DirectTaskFullResponse`, содержащих поля:

|свойство|тип|Описание|
|-|-|-|
|landmarkX|long|Координата X ориентира, мм.| 
|landmarkY|long|Координата Y ориентира, мм.| 
|landmarkDirection|long|Направление на ориентир, сек|
|baseX|long|Координата X базы|
|baseY|long|Координата Y базы|
|baseZ|long|Координата Y базы|  
|baseHeight|long|Высота инструмента над точкой, мм.|
|targetDirection|long|Направление на цель, сек.|
|targetInclinedDistance|long|Наклонное расстояние между базой и целью, мм.|
|targetTiltAngle|long|Угол наклона измеренной линии, сек.|
|targetHeight|long|Высота цели над определяемой точкой, мм.|
|targetX|long|Координата X определяемой точки, мм.|
|targetY|long|Координата Y определяемой точки, мм.|
|targetZ|long|Координата Z определяемой точки, мм.|


### `/inverse`

POST-запрос. Предоставляет решение обратной геодезической задачи.

> По известным координатам двух точек (базы и цели) вычисляет наклонное и горизонтальное расстояние между ними, превышение цели над базой, дирекционный угол и вертикальный угол наклона линии между базой и целью.

Тело запроса `InverseTaskRequest` включает следующие поля:

|свойство|тип|Описание|
|-|-|-|
|baseX|long|Координата X базы, мм.|
|baseY|long|Координата Y базы, мм.|
|baseZ|long|Координата Y базы, мм.|  
|targetX|long|Координата X определяемой точки, мм.|
|targetY|long|Координата Y определяемой точки, мм.|
|targetZ|long|Координата Z определяемой точки, мм.|

Тело ответа `InverseTaskFullResponse` включает следующие поля:

|свойство|тип|Описание|
|-|-|-|
|baseX|long|Координата X базы, мм.|
|baseY|long|Координата Y базы, мм.|
|baseZ|long|Координата Y базы, мм.|  
|targetX|long|Координата X определяемой точки, мм.|
|targetY|long|Координата Y определяемой точки, мм.|
|targetZ|long|Координата Z определяемой точки, мм.|
|direction|long|Дирекционный угол линии, сек.|
|horDistanse|long|Горизонтальное проложение, мм.|
|inclinedDistanse|long|Наклонное расстояние, мм.|
|tiltAngle|long|Угол наклона линии, сек.|
|elevation|long|Превышение цели над базой, мм.|

### `/potenot`

POST-запрос. Предоставляет решение обратной геодезической засечки (Задача Потенота).

> По известным координатам трёх точек и горизонтальным углам, измеренным между ними с определяемой точки, вычисляет её плановые координаты X, Y.

Тело запроса включает в себя список (массив) объектов `PotenotTaskRequest`, содержащих следующие поля:

|свойство|тип|Описание|
|-|-|-|
|pointX|long|Координата X точки, мм.|
|pointY|long|Координата Y точки, мм.|
|direction|long|Направление на точку с определяемой, сек.|
  
Тело ответа `PotenotTaskResponse` включает следующие поля:

|свойство|тип|Описание|
|-|-|-|
|pointX|long|Координата X определяемой точки, мм.|
|pointY|long|Координата Y определяемой точки, мм.|